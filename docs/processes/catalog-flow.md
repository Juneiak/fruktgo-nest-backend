# –ü—Ä–æ—Ü–µ—Å—Å: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º

**–£—á–∞—Å—Ç–Ω–∏–∫–∏:** Seller, Shop, PlatformStaff  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Product Module, Shop-Product Module

---

## –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–£ –ø—Ä–æ–¥–∞–≤—Ü–∞ –µ—Å—Ç—å **–º–∞—Å—Ç–µ—Ä-–∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤** (Product), –≥–¥–µ –æ–Ω —Å–æ–∑–¥–∞—ë—Ç —Ç–æ–≤–∞—Ä –æ–¥–∏–Ω —Ä–∞–∑ —Å –æ–±—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Å—Ç—É–¥–∏–π–Ω–æ–µ —Ñ–æ—Ç–æ. –ó–∞—Ç–µ–º –æ–Ω **—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä –ø–æ —Å–≤–æ–∏–º –º–∞–≥–∞–∑–∏–Ω–∞–º** (ShopProduct), —É–∫–∞–∑—ã–≤–∞—è –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ —Å–≤–æ–∏ –æ—Å—Ç–∞—Ç–∫–∏ –∏ –∑–∞–≥—Ä—É–∂–∞—è –∂–∏–≤—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å –ø—Ä–∏–ª–∞–≤–∫–∞.

**–ö–ª–∏–µ–Ω—Ç** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ –∏ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã —ç—Ç–æ–π —Ç–æ—á–∫–∏ —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –∏ —Å–≤–µ–∂–∏–º–∏ —Ñ–æ—Ç–æ.

### –ö–ª—é—á–µ–≤–∞—è –ª–æ–≥–∏–∫–∞

**–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ü—Ä–æ–¥–∞–≤–µ—Ü –º–µ–Ω—è–µ—Ç —Ü–µ–Ω—É –≤ Product ‚Üí —Ü–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤–æ –≤—Å–µ—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤–æ–µ —Å—Ç—É–¥–∏–π–Ω–æ–µ —Ñ–æ—Ç–æ ‚Üí —Ñ–æ—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–µ–∑–¥–µ
- –≠—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è: –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å —Ü–µ–Ω—É –æ—Ç–¥–µ–ª—å–Ω–æ –≤ –∫–∞–∂–¥–æ–º –º–∞–≥–∞–∑–∏–Ω–µ

**–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –û—Å—Ç–∞—Ç–∫–∏ ‚Äî —Å–≤–æ–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ (–≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ 50–∫–≥, –≤ –¥—Ä—É–≥–æ–π 10–∫–≥)
- –ñ–∏–≤—ã–µ —Ñ–æ—Ç–æ ‚Äî –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
- –°—Ç–∞—Ç—É—Å ‚Äî —Ç–æ–≤–∞—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω –≤ –æ–¥–Ω–æ–º –º–∞–≥–∞–∑–∏–Ω–µ –∏ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –¥—Ä—É–≥–æ–º

**–ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞:**
- –ï—Å–ª–∏ –æ—Å—Ç–∞—Ç–∫–∏ —Å—Ç–∞–ª–∏ 0 ‚Üí —Ç–æ–≤–∞—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
- –ñ–∏–≤—ã–µ —Ñ–æ—Ç–æ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è
- –û–±—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏ Product –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ —Å—É–º–º–∞ –ø–æ –≤—Å–µ–º –º–∞–≥–∞–∑–∏–Ω–∞–º

### –ñ–∏–≤—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏

–≠—Ç–æ –∫–ª—é—á–µ–≤–∞—è —Ñ–∏—á–∞ –¥–ª—è –¥–æ–≤–µ—Ä–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤. –ü—Ä–æ–¥–∞–≤–µ—Ü/—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –¥–µ–ª–∞–µ—Ç —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞ –ø—Ä—è–º–æ –Ω–∞ –ø—Ä–∏–ª–∞–≤–∫–µ –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É. –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç **—Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞** —Å –¥–∞—Ç–æ–π —Å—ä—ë–º–∫–∏. –ú–∞–∫—Å–∏–º—É–º 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–æ—Ç–æ –Ω–∞ —Ç–æ–≤–∞—Ä, —Å—Ç–∞—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è.

### –ü–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –≤–µ—Å–∞

–î–ª—è –≤–µ—Å–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (—è–±–ª–æ–∫–∏, –æ—Ä–µ—Ö–∏) –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–º–µ—Ä–∏—Ç—å —Ä–æ–≤–Ω–æ 500–≥. –ü—Ä–æ–¥–∞–≤–µ—Ü —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º—É—é –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ¬±10%). –ï—Å–ª–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—Å –≤—ã—à–µ–ª –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞ ‚Äî –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –±–∞–ª–ª–∞–º–∏. –ï—Å–ª–∏ –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ ‚Äî –ø–µ—Ä–µ–≤–µ—Å –∑–∞ —Å—á—ë—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞.

---

## –û–±–∑–æ—Ä

–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –º–æ–¥–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏:
- **Product** - –º–∞—Å—Ç–µ—Ä-–∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥–∞–≤—Ü–∞ (–æ–±—â–∏–µ —Ç–æ–≤–∞—Ä—ã)
- **ShopProduct** - —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö (–æ—Å—Ç–∞—Ç–∫–∏, —Å—Ç–∞—Ç—É—Å—ã)

**Workflow:** Seller —Å–æ–∑–¥–∞—ë—Ç Product ‚Üí –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫ –º–∞–≥–∞–∑–∏–Ω–∞–º ‚Üí —Å–æ–∑–¥–∞—é—Ç—Å—è ShopProduct

---

## 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (Product)

**–ê–∫—Ç–æ—Ä:** Seller

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π

1. Seller –≤ –ø–∞–Ω–µ–ª–∏ ‚Üí "–¢–æ–≤–∞—Ä—ã" ‚Üí "–°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä"
2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
   - –ù–∞–∑–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: —Ñ—Ä—É–∫—Ç—ã, –æ–≤–æ—â–∏, –æ—Ä–µ—Ö–∏, —Å—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã, –ø—Ä–æ—á–µ–µ
   - –¶–µ–Ω–∞ (‚ÇΩ)
   - –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è: –ö–ì –∏–ª–∏ –®–¢
   - –®–∞–≥ –ø—Ä–æ–¥–∞–∂–∏: 0.1, 0.2, 0.5, 1, 2, 5, 10
   - **–î–æ–ø—É—Å—Ç–∏–º–∞—è –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –≤–µ—Å–∞ (tolerance)**: –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –∑–∞–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤–µ—Å–∞
     - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: ¬±10% (0.9-1.1)
     - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–¥–∞–≤—Ü–æ–º: –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç ¬±5% –¥–æ ¬±15%
     - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤, –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã—Ö –Ω–∞ –≤–µ—Å (–ö–ì)
   - –û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ê—Ä—Ç–∏–∫—É–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - **–°—Ç—É–¥–∏–π–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ
3. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç `Product`:
   ```typescript
   {
     productName: "–Ø–±–ª–æ–∫–æ –ì–∞–ª–∞",
     category: "fruits",
     price: 250,
     measuringScale: "kg",
     stepRate: "0.5",  // –ü—Ä–æ–¥–∞–µ—Ç—Å—è –ø–æ 0.5–∫–≥
     weightTolerance: 0.1,  // ¬±10% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
     owner: sellerId,
     totalStockQuantity: 0,  // –ü–æ–∫–∞ –Ω–µ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω –∫ –º–∞–≥–∞–∑–∏–Ω–∞–º
     studioImage: "apple-gala-studio.jpg"  // –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ
   }
   ```
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `seller.statistics.productsCount++`

**API:** `POST /seller/products`

### –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞

- –¢–æ–≤–∞—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ "–≥–æ—Ç–æ–≤ –∫ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—é"
- `totalStockQuantity = 0` –¥–æ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è –∫ –º–∞–≥–∞–∑–∏–Ω–∞–º
- **–°—Ç—É–¥–∏–π–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
- **weightTolerance** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.1 (¬±10%), –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –≤–µ—Å
- –ï—Å–ª–∏ tolerance –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ - –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –±–∞–ª–ª–∞–º–∏
- –¶–µ–Ω–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ Product, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º ShopProduct

---

## 2. –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫ –º–∞–≥–∞–∑–∏–Ω—É (ShopProduct)

**–ê–∫—Ç–æ—Ä:** Seller

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π

1. Seller –≤—ã–±–∏—Ä–∞–µ—Ç Product ‚Üí "–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∫ –º–∞–≥–∞–∑–∏–Ω—É"
2. –í—ã–±–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–≤–æ–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
3. –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, default: 0)
4. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
   - Product –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–ª–∞–¥–µ–ª—å—Ü—É Shop? ‚úì
   - –¢–æ–≤–∞—Ä –µ—â—ë –Ω–µ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω –∫ —ç—Ç–æ–º—É –º–∞–≥–∞–∑–∏–Ω—É? ‚úì
5. –°–æ–∑–¥–∞–Ω–∏–µ `ShopProduct`:
   ```typescript
   {
     product: productId,
     pinnedTo: shopId,
     stockQuantity: 50,  // –ù–∞—á–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏
     status: "active",   // –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–∞
     last7daysSales: 0,
     last7daysWriteOff: 0,
     
     // –ñ–∏–≤—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å –ø—Ä–∏–ª–∞–≤–∫–∞
     livePhotos: [
       {
         url: "apple-gala-live-2024-11-24.jpg",
         takenAt: "2024-11-24T10:30:00Z",
         isActive: true  // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞–º
       }
     ]
   }
   ```
6. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è:
   - `product.totalStockQuantity += 50`
   - `shop.statistics.productsCount++`

**API:** `POST /seller/shop-products`

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

- **–¢–æ–≤–∞—Ä —É–∂–µ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω:** –æ—à–∏–±–∫–∞ `CONFLICT`, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
- **Product –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç Seller:** –æ—à–∏–±–∫–∞ `FORBIDDEN`

---

## 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–∞–º–∏

**–ê–∫—Ç–æ—Ä:** Seller / Employee (—á–µ—Ä–µ–∑ Shop)

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤

1. –í –ø–∞–Ω–µ–ª–∏ –º–∞–≥–∞–∑–∏–Ω–∞ ‚Üí –≤—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞ ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ `stockQuantity`
2. –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç:
   - `shopProduct.stockQuantity`
   - `product.totalStockQuantity` (–ø–µ—Ä–µ—Å—á—ë—Ç –ø–æ –≤—Å–µ–º –º–∞–≥–∞–∑–∏–Ω–∞–º)
3. **–ï—Å–ª–∏ `stockQuantity = 0`:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: `shopProduct.status = OUT_OF_STOCK`
   - –¢–æ–≤–∞—Ä —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞

**API:** `PATCH /seller/shop-products/:id`

### –°—Ç–∞—Ç—É—Å—ã ShopProduct

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –í–∏–¥–∏–º–æ—Å—Ç—å |
|--------|----------|-----------|
| `ACTIVE` | –ê–∫—Ç–∏–≤–µ–Ω, –¥–æ—Å—Ç—É–ø–µ–Ω | ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è |
| `PAUSED` | –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | ‚ùå –°–∫—Ä—ã—Ç |
| `OUT_OF_STOCK` | –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏ | ‚ùå –°–∫—Ä—ã—Ç |
| `ARCHIVED` | –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω | ‚ùå –£–¥–∞–ª—ë–Ω –∏–∑ –≤–∏—Ç—Ä–∏–Ω—ã |

---

## 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ê–∫—Ç–æ—Ä:** Seller

–ú–∞–≥–∞–∑–∏–Ω –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ–≤–∞—Ä–∞ (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–æ—á–∫–∏):

1. –í—ã–±–æ—Ä ShopProduct ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ `shopProduct.images[]`
3. –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –∏ –æ—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ –∏–∑ Product, –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑ ShopProduct

**API:**
- `POST /seller/shop-products/:id/images`
- `DELETE /seller/shop-products/:id/images/:imageId`

---

## 5. –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–µ)

**–ê–∫—Ç–æ—Ä:** Seller

–ï—Å–ª–∏ —Ç–æ–≤–∞—Ä –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–æ–¥–∞—ë—Ç—Å—è –≤ –º–∞–≥–∞–∑–∏–Ω–µ:

1. Seller ‚Üí "–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä"
2. –°—Ç–∞—Ç—É—Å: `shopProduct.status = ARCHIVED`
3. –¢–æ–≤–∞—Ä —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ –≤–∏—Ç—Ä–∏–Ω—ã –º–∞–≥–∞–∑–∏–Ω–∞
4. –ü–µ—Ä–µ—Å—á—ë—Ç: `product.totalStockQuantity` (–º–∏–Ω—É—Å –æ—Å—Ç–∞—Ç–∫–∏ —ç—Ç–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞)

**API:** `DELETE /seller/shop-products/:id`

**–í–∞–∂–Ω–æ:** Product –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –º–∞—Å—Ç–µ—Ä-–∫–∞—Ç–∞–ª–æ–≥–µ, —É–¥–∞–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –º–∞–≥–∞–∑–∏–Ω—É

---

## 6. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

**–ê–∫—Ç–æ—Ä:** Seller

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ Product

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Product –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–º –º–∞–≥–∞–∑–∏–Ω–∞–º:

1. Seller —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç Product (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏ —Ç.–¥.)
2. **–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã:**
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `product.price`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö ShopProduct
3. **–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   - –°—Ç–∞—Ä–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–¥–∞–ª—è–µ—Ç—Å—è
   - –ù–æ–≤–æ–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –º–∞–≥–∞–∑–∏–Ω–∞–º

**API:** `PATCH /seller/products/:id`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ ShopProduct

–ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞:
- –û—Å—Ç–∞—Ç–∫–∏
- –°—Ç–∞—Ç—É—Å
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**API:** `PATCH /seller/shop-products/:id`

---

## 7. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–≤—ã–º–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏

**–ê–∫—Ç–æ—Ä:** Seller / Employee

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π

1. –°–æ—Ç—Ä—É–¥–Ω–∏–∫/–ø—Ä–æ–¥–∞–≤–µ—Ü –¥–µ–ª–∞–µ—Ç —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –ø—Ä–∏–ª–∞–≤–∫–µ/–≤–∏—Ç—Ä–∏–Ω–µ
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å –º–∞–≥–∞–∑–∏–Ω–∞ ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç `ShopProduct`
3. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å:
   ```typescript
   {
     url: "apple-gala-live-2024-11-24-14-30.jpg",
     takenAt: new Date(),  // –î–∞—Ç–∞ —Å—ä—ë–º–∫–∏
     isActive: true,       // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞–º
     uploadedBy: employeeId
   }
   ```
4. –§–æ—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `shopProduct.livePhotos[]`
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö:**
   - –§–æ—Ç–æ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è (`isActive = false`)
   - –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏, –Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–∞–º

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É

–ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∫–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –Ø–±–ª–æ–∫–æ –ì–∞–ª–∞                     ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ [–°—Ç—É–¥–∏–π–Ω–æ–µ —Ñ–æ—Ç–æ]  [–ñ–∏–≤–æ–µ —Ñ–æ—Ç–æ] ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ üì∑ –§–æ—Ç–æ —Å –ø—Ä–∏–ª–∞–≤–∫–∞              ‚îÇ
‚îÇ    –°–¥–µ–ª–∞–Ω–æ: 24 –Ω–æ—è–±—Ä—è, 10:30   ‚îÇ
‚îÇ    ‚ñ≤ –ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ       ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ 250‚ÇΩ/–∫–≥                         ‚îÇ
‚îÇ –í –Ω–∞–ª–∏—á–∏–∏: 50 –∫–≥                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞

- **–ú–∞–∫—Å–∏–º—É–º 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö** –∂–∏–≤—ã—Ö —Ñ–æ—Ç–æ –Ω–∞ —Ç–æ–≤–∞—Ä
- –§–æ—Ç–æ **—Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è
- **–î–∞—Ç–∞ —Å—ä—ë–º–∫–∏** –≤—Å–µ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –æ–±–Ω–æ–≤–ª—è—Ç—å –∂–∏–≤—ã–µ —Ñ–æ—Ç–æ –ø—Ä–∏ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è—Ö
- –ñ–∏–≤—ã–µ —Ñ–æ—Ç–æ **–¥–æ–ø–æ–ª–Ω—è—é—Ç** —Å—Ç—É–¥–∏–π–Ω–æ–µ —Ñ–æ—Ç–æ, –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç –µ–≥–æ
- –†–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ: –¥–æ 5MB, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ: –º–∏–Ω–∏–º—É–º 800x600

**API:** 
- `POST /seller/shop-products/:id/live-photos` - –∑–∞–≥—Ä—É–∑–∏—Ç—å
- `DELETE /seller/shop-products/:id/live-photos/:photoId` - —É–¥–∞–ª–∏—Ç—å
- `PATCH /seller/shop-products/:id/live-photos/:photoId` - –æ–±–Ω–æ–≤–∏—Ç—å isActive

---

## 8. –ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥

**–ê–∫—Ç–æ—Ä:** Customer (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

–ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å –æ—Å—Ç–∞—Ç–∫–∞–º–∏:

1. –í—ã–±–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞ –Ω–∞ –∫–∞—Ä—Ç–µ –∏–ª–∏ –∏–∑ —Å–ø–∏—Å–∫–∞
2. –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –º–∞–≥–∞–∑–∏–Ω–∞
3. **–ê–≤—Ç–æ—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
   - `shopProduct.status = ACTIVE`
   - `shopProduct.stockQuantity > 0`
4. –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç:
   - –î–∞–Ω–Ω—ã–µ Product (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è)
   - –û—Å—Ç–∞—Ç–∫–∏ –∏–∑ ShopProduct
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ—Å–Ω–æ–≤–Ω–æ–µ + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ)

**API:** `GET /public/shop-products?shopId=...`

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–≤–æ–¥–∫–∞

### –°—É—â–Ω–æ—Å—Ç–∏

**Product (–º–∞—Å—Ç–µ—Ä-–∫–∞—Ç–∞–ª–æ–≥):**
```typescript
{
  productName: string,
  category: "fruits" | "vegetables" | "nuts" | "dried_fruits" | "other",
  price: number,
  measuringScale: "kg" | "piece",
  stepRate: number,
  weightTolerance: number,  // –î–æ–ø—É—Å—Ç–∏–º–∞—è –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (0.05-0.15, default: 0.1)
  description?: string,
  origin?: string,
  studioImage?: string,     // –°—Ç—É–¥–∏–π–Ω–æ–µ —Ñ–æ—Ç–æ
  owner: ObjectId,          // Seller
  totalStockQuantity: number,
  statistics: {
    totalSold: number,
    totalWriteOff: number
  }
}
```

**ShopProduct (—Ç–æ–≤–∞—Ä—ã –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö):**
```typescript
{
  product: ObjectId,
  pinnedTo: ObjectId,       // Shop
  stockQuantity: number,
  status: "active" | "paused" | "out_of_stock",
  
  livePhotos: [{            // –ñ–∏–≤—ã–µ —Ñ–æ—Ç–æ —Å –ø—Ä–∏–ª–∞–≤–∫–∞
    url: string,
    takenAt: Date,
    isActive: boolean,
    uploadedBy: ObjectId
  }],
  
  last7daysSales: number,
  last7daysWriteOff: number
}
```

### API

**Product:**
- `POST /seller/products` - —Å–æ–∑–¥–∞—Ç—å
- `GET /seller/products` - –º–æ–∏ —Ç–æ–≤–∞—Ä—ã
- `GET /seller/products/:id` - –¥–µ—Ç–∞–ª–∏
- `PATCH /seller/products/:id` - –æ–±–Ω–æ–≤–∏—Ç—å
- `DELETE /seller/products/:id` - —É–¥–∞–ª–∏—Ç—å

**ShopProduct:**
- `POST /seller/shop-products` - –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∫ –º–∞–≥–∞–∑–∏–Ω—É
- `GET /seller/shop-products` - —Ç–æ–≤–∞—Ä—ã –º–æ–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
- `GET /seller/shop-products/:id` - –¥–µ—Ç–∞–ª–∏
- `PATCH /seller/shop-products/:id` - –æ–±–Ω–æ–≤–∏—Ç—å (–æ—Å—Ç–∞—Ç–∫–∏, —Å—Ç–∞—Ç—É—Å)
- `DELETE /seller/shop-products/:id` - –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å
- `POST /seller/shop-products/:id/live-photos` - –¥–æ–±–∞–≤–∏—Ç—å –∂–∏–≤–æ–µ —Ñ–æ—Ç–æ
- `DELETE /seller/shop-products/:id/live-photos/:photoId` - —É–¥–∞–ª–∏—Ç—å –∂–∏–≤–æ–µ —Ñ–æ—Ç–æ
- `PATCH /seller/shop-products/:id/live-photos/:photoId` - –æ–±–Ω–æ–≤–∏—Ç—å isActive

**Public:**
- `GET /public/shop-products?shopId=...` - –∫–∞—Ç–∞–ª–æ–≥ –º–∞–≥–∞–∑–∏–Ω–∞
- `GET /public/shop-products/:id` - –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞

### –°–≤—è–∑–∏

```
Seller
  ‚îî‚îÄ‚îÄ Product (–º–∞—Å—Ç–µ—Ä-–∫–∞—Ç–∞–ª–æ–≥)
       ‚îú‚îÄ‚îÄ category, price, measuringScale, stepRate
       ‚îî‚îÄ‚îÄ ShopProduct (–≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö)
            ‚îú‚îÄ‚îÄ Shop A: 50–∫–≥, ACTIVE
            ‚îú‚îÄ‚îÄ Shop B: 30–∫–≥, ACTIVE
            ‚îî‚îÄ‚îÄ Shop C: 0–∫–≥, OUT_OF_STOCK
```

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞

1. **Product ‚Üí ShopProduct:** –æ–¥–∏–Ω Product ‚Üí –º–Ω–æ–≥–æ ShopProduct (—Ä–∞–∑–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã)
2. **totalStockQuantity:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Å—É–º–º–∞ –≤—Å–µ—Ö shopProduct.stockQuantity
3. **–¶–µ–Ω–∞ –µ–¥–∏–Ω–∞—è:** —Ü–µ–Ω–∞ –∏–∑ Product –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –º–∞–≥–∞–∑–∏–Ω–∞–º
4. **–°—Ç–∞—Ç—É—Å—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã:** –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å ACTIVE –≤ –æ–¥–Ω–æ–º –º–∞–≥–∞–∑–∏–Ω–µ –∏ PAUSED –≤ –¥—Ä—É–≥–æ–º
5. **–£–¥–∞–ª–µ–Ω–∏–µ Product:** —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ ShopProduct

---

> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤  
> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2024-11-24