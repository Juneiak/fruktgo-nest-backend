# Modules Documentation

Документация по доменным и инфраструктурным модулям FruktGo Backend.

---

## Структура документации модуля

Каждый модуль документируется по следующей схеме:

1. **Обзор** - назначение модуля, основные возможности, бизнес-контекст
2. **Схема данных (Schema)** - структура MongoDB документа, поля, типы, индексы
3. **Енумы (Enums)** - все перечисления модуля с описанием значений
4. **Commands** - write операции (создание, обновление, удаление)
5. **Queries** - read операции (получение данных с фильтрами)
6. **Port** - интерфейс модуля (контракт для DI)
7. **Service** - ключевая бизнес-логика, важные методы
8. **Связи с другими модулями** - зависимости и consumers
9. **API Endpoints** - HTTP endpoints, использующие модуль
10. **Примеры использования** - code snippets

---

## Domain Modules (src/modules)

Основные доменные модули, содержащие бизнес-логику.

| Модуль | Описание | Документация | Статус |
|--------|----------|--------------|--------|
| **article** | Статьи и контент платформы | [article.md](./article.md) | ✅ Готова |
| **customer** | Управление клиентами | [customer.md](./customer.md) | ✅ Готова |
| **seller** | Управление продавцами | [seller.md](./seller.md) | ✅ Готова |
| **shop** | Управление магазинами | [shop.md](./shop.md) | ✅ Готова |
| **product** | Товары (мастер-каталог) | [product.md](./product.md) | ✅ Готова |
| **shop-product** | Товары в магазинах (цены, остатки) | [shop-product.md](./shop-product.md) | ✅ Готова |
| **employee** | Сотрудники магазинов | [employee.md](./employee.md) | ✅ Готова |
| **order** | Заказы | _TODO_ | ⏳ Планируется |
| **shift** | Смены сотрудников | [shift.md](./shift.md) | ✅ Готова |
| **issue** | Обращения в поддержку | [issue.md](./issue.md) | ✅ Готова |
| **finance** | Финансовая система (счета, транзакции) | _TODO_ | ⏳ Планируется |
| **job-application** | Заявки на работу | [job-application.md](./job-application.md) | ✅ Готова |
| **platform** | Настройки платформы | _TODO_ | ⏳ Планируется |
| **auth** | Аутентификация (login codes, JWT) | _TODO_ | ⏳ Планируется |
| **telegram** | Telegram боты | _TODO_ | ⏳ Планируется |

---

## Infrastructure Modules (src/infra)

Переиспользуемые инфраструктурные модули.

| Модуль | Описание | Документация | Статус |
|--------|----------|--------------|--------|
| **images** | Управление изображениями (storage) | _TODO_ | ⏳ Планируется |
| **addresses** | Управление адресами (геоданные) | _TODO_ | ⏳ Планируется |
| **logs** | Аудит-логирование действий | _TODO_ | ⏳ Планируется |
| **notifications** | Push, Email, SMS уведомления | _TODO_ | ⏳ Планируется |
| **auth** | JWT, Guards, Strategies | _TODO_ | ⏳ Планируется |

---

## Как использовать эту документацию

### Для разработчиков

1. **При работе с модулем** - откройте соответствующий `.md` файл для понимания структуры
2. **При создании нового модуля** - используйте [article.md](./article.md) как шаблон
3. **При изменении схемы/енумов** - обновите документацию модуля

### Для AI/LLM

Эта документация служит контекстом для понимания:
- Структуры данных каждого модуля
- Доступных операций (Commands/Queries)
- Связей между модулями
- Бизнес-логики и инвариантов

**Рекомендуемый формат запроса:**
> "Изучи @docs/modules/article.md и объясни как работает система тегов"

---

## Шаблон для новой документации модуля

```markdown
# [Module Name] Module

> **Модуль:** `src/modules/[module-name]`  
> **Назначение:** [Краткое описание назначения]

## 1. Обзор
## 2. Схема данных
## 3. Енумы
## 4. Commands (Write операции)
## 5. Queries (Read операции)
## 6. Port (Интерфейс)
## 7. Service (Бизнес-логика)
## 8. Связи с другими модулями
## 9. API Endpoints
## Примеры использования
## Заключение
```

---

## Связанная документация

- **Architecture:** [docs/architecture.md](../architecture.md) - общая архитектура системы
- **API:** [docs/api.md](../api.md) - HTTP endpoints
- **Tech Guidelines:** [docs/tech-guidelines.md](../tech-guidelines.md) - паттерны кода
- **Business:** [docs/business/](../business/) - бизнес-модель и flows

---

> **Примечание:** Документация модулей обновляется по мере разработки. Приоритет отдаётся наиболее используемым и сложным модулям.
